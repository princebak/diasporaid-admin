<!doctype html>
<html class="fixed" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
    <!-- Basic -->
    <meta charset="UTF-8">
    <title>Diaspora-Id Admin</title>
    <meta name="keywords" content="Diaspora-Id Admin"/>
    <meta name="description" content="This is a Portal where we can see all the registrations and validate them.">
    <meta name="author" content="DRC: Diaspora-Id">

    <!-- Mobile Metas -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <link rel="icon" type="image/png" href="img/sgcLogo.png">
    <!-- Web Fonts  -->
    <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700,800|Shadows+Into+Light"
          rel="stylesheet" type="text/css">
    <!-- Vendor CSS -->
    <link rel="stylesheet" href="vendor/bootstrap/css/bootstrap.css"/>
    <link rel="stylesheet" href="vendor/animate/animate.compat.css">
    <link rel="stylesheet" href="vendor/font-awesome/css/all.min.css"/>
    <link rel="stylesheet" href="vendor/boxicons/css/boxicons.min.css"/>
    <link rel="stylesheet" href="vendor/magnific-popup/magnific-popup.css"/>
    <link rel="stylesheet" href="vendor/bootstrap-datepicker/css/bootstrap-datepicker3.css"/>
    <!-- Theme CSS -->
    <link rel="stylesheet" href="css/theme.css"/>
    <!-- Skin CSS -->
    <link rel="stylesheet" href="css/skins/default.css"/>
    <!-- Theme Custom CSS -->
    <link rel="stylesheet" href="css/custom.css">
    <!-- Head Libs -->
    <script src="vendor/modernizr/modernizr.js"></script>
    <link rel="stylesheet" href="vendor/jquery-ui/jquery-ui.css"/>
    <link rel="stylesheet" href="vendor/jquery-ui/jquery-ui.theme.css"/>
    <link rel="stylesheet" href="vendor/bootstrap-multiselect/css/bootstrap-multiselect.css"/>
    <link rel="stylesheet" href="vendor/morris/morris.css"/>

    <link rel="icon" type="image/png" href="img/sgcLogo.png">

</head>
<body>
<section class="body">

    <!-- start: header -->
    <header class="header">
        <div class="logo-container">
            <a href="#" class="logo">
                <img src="img/drc_flag.gif" width="75" height="35" alt="DiasporaId Admin" style="object-fit: cover;"/>
            </a>
            <span style="font-size:150%;color: #0088CC;font-weight: bold;">RDC Diaspora Id</span>
            <div class="d-md-none toggle-sidebar-left" data-toggle-class="sidebar-left-opened" data-target="html"
                 data-fire-event="sidebar-left-opened">
                <i class="fas fa-bars" aria-label="Toggle sidebar"></i>
            </div>

        </div>



        <!-- start: search & user box -->
        <div class="header-right">
            <div id="userbox" class="userbox">
                <a href="#" data-toggle="dropdown">
                    <figure class="profile-picture">
                        <img src="img/profile.jpg" alt="Joseph Doe" class="rounded-circle"
                             data-lock-picture="img/profile.jpg"/>
                    </figure>
                    <div class="profile-info" data-lock-name="John Doe" data-lock-email="johndoe@okler.com">
                        <span class="name" th:text="${session.user.username}">John Doe Junior</span>
                        <span class="role"  th:text="${session.user.userType}">Administrator</span>
                    </div>

                    <i class="fa custom-caret"></i>
                </a>

                <div class="dropdown-menu">
                    <ul class="list-unstyled mb-2">
                        <li class="divider"></li>
                        <li>
                            <a role="menuitem" tabindex="-1" href="/myprofile"><i
                                    class="bx bx-user-circle"></i><span>My Profile</span></a>
                        </li>

                        <li>
                            <a role="menuitem" tabindex="-1" href="/logout"><i class="bx bx-power-off"></i>
                                <span>Logout</span></a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <!-- end: search & user box -->
    </header>
    <!-- end: header -->


    <div class="inner-wrapper">
        <!-- start: sidebar -->
        <aside id="sidebar-left" class="sidebar-left">

            <div class="sidebar-header">
                <div class="sidebar-title">
                    Navigation
                </div>
                <div class="sidebar-toggle d-none d-md-block" data-toggle-class="sidebar-left-collapsed"
                     data-target="html" data-fire-event="sidebar-left-toggle">
                    <i class="fas fa-bars" aria-label="Toggle sidebar"></i>
                </div>
            </div>

            <div class="nano">
                <div class="nano-content">
                    <nav id="menu" class="nav-main" role="navigation">
                        <ul class="nav nav-main">
                            <li th:if="${session.user.userType == 'admin'}">
                                <a class="nav-link" href="/home">
                                    <i class="bx bx-home-alt" aria-hidden="true"></i>
                                    <span>Dashboard</span>
                                </a>
                            </li>
                            <li>
                                <a class="nav-link" href="/registrations">
                                    <i class="bx bx-folder" aria-hidden="true"></i>
                                    <span>Registrations</span>
                                </a>
                            </li>
                            <li>
                                <a role="menuitem" tabindex="-1" href="/logout"><i class="bx bx-power-off"></i>
                                    <span>Logout</span></a>
                            </li>
                        </ul>
                    </nav>
                </div>

                <script>
                    // Maintain Scroll Position
                    if (typeof localStorage !== 'undefined') {
                        if (localStorage.getItem('sidebar-left-position') !== null) {
                            var initialPosition = localStorage.getItem('sidebar-left-position'),
                                sidebarLeft = document.querySelector('#sidebar-left .nano-content');

                            sidebarLeft.scrollTop = initialPosition;
                        }
                    }
                </script>

            </div>

        </aside>
        <!-- end: sidebar -->
        <th:block layout:fragment="page_content">

        </th:block>
    </div>

</section>

<!-- Vendor -->
<script src="vendor/jquery/jquery.js"></script>
<script src="vendor/jquery-browser-mobile/jquery.browser.mobile.js"></script>
<script src="vendor/popper/umd/popper.min.js"></script>
<script src="vendor/bootstrap/js/bootstrap.js"></script>
<script src="vendor/bootstrap-datepicker/js/bootstrap-datepicker.js"></script>
<script src="vendor/common/common.js"></script>
<script src="vendor/nanoscroller/nanoscroller.js"></script>
<script src="vendor/magnific-popup/jquery.magnific-popup.js"></script>
<script src="vendor/jquery-placeholder/jquery.placeholder.js"></script>

<!-- Theme Base, Components and Settings -->
<script src="js/theme.js"></script>

<!-- Theme Custom -->
<script src="js/custom.js"></script>

<!-- Theme Initialization Files -->
<script src="js/theme.init.js"></script>

<script type="text/javascript">
    $(document).ready(function() {
        if($("#lang").text() == "Language"){
            $("#en").attr("selected","true");
        }else if($("#lang").text() == "Langue"){
            $("#fr").attr("selected","true");
        }
        $("#locales").change(function () {
            var selectedOption = $('#locales').val();
            if (selectedOption != ''){
                var location = window.location+"";
                if( location.includes('#') ){
                    location = location.replace('#','');
                }
                if(location.includes('lang=fr')){
                    window.location.replace(location.replace('lang=fr','lang=' + selectedOption));
                }else if(location.includes('lang=en')){
                    window.location.replace(location.replace('lang=en','lang=' + selectedOption));
                }else if(location.includes('?') && !location.includes('lang=fr') && !location.includes('lang=en')){
                    window.location.replace(location+'&lang=' + selectedOption);
                }else{
                    window.location.replace(location+'?lang=' + selectedOption);
                }
            }
        });
    });
</script>
</body>
</html>